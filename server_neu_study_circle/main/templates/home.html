{% extends 'encasplator.html' %}

{% block content %}

<div style="display: grid; grid-template-columns: 1fr 7fr 2fr;" >


    <div style="width: 100px;">

        <h3>Topics</h3>

        {% for topic in topics %}
            <a href="{% url 'home'  %}?query={{topic.name}}">{{topic.name}}</a>
            <br>
        {% endfor %}
    </div>



    <div>

        <h1>All Rooms</h1>

        <h3>Number of rooms: {{numOfRooms}}</h3>

        <br>
        <a href="{% url 'create_room' %}">Create a Room</a>
        <br>
        <br>

        {% for room in rooms %}
           <a href="room/{{room.id}}">
                <div>Room ID: {{room.id}}</div>
                <div>{{room.header}}</div>
           </a>
           


           {% if user == room.host %}
                <br>
                <a href="{% url 'update_room' id=room.id %}">>>>>Update Room</a>
                <br>
                <br>
                br>
                <a href="{% url 'delete_room' id=room.id %}">>>>>Delete Room</a>
    
                <br>
                <br>
            {% endif %}

            <hr>            
        {% endfor %}
    </div>


    <div>
        <h2>Recent Messages</h2>
            {% for message in room_messages %}

            <div>
                <small>{{message.user}} {{message.created|timesince}}</small>
                <br>
                <small>replied to room: {{message.room}}</small>
                <br>
                <small>Message: {{message}}</small>

            </div>
            <hr>

            {% endfor %}
    </div>
</div>


{% endblock %}
